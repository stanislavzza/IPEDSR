% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db_updates.R
\name{ipeds_dl_index}
\alias{ipeds_dl_index}
\title{This script has functions to update the IPEDS database by scraping the Data
Center's Complete Data Files page for a given year, extracting the table
names and download links, and downloading the CSV files and dictionaries.
The main functions are:
- `ipeds_dc_index()`: Scrapes the Data Center page for a specified year and
returns a data frame with table names, CSV URLs, and dictionary URLs.
IPEDS Data Center: Complete Data Files index + downloader}
\usage{
ipeds_dl_index(
  year = 2024,
  base_url = "https://nces.ed.gov",
  page = sprintf("https://nces.ed.gov/ipeds/datacenter/DataFiles.aspx?year=\%s", year)
)
}
\arguments{
\item{year}{The IPEDS data year to index (e.g. 2024 for 2024-25 data)}

\item{base_url}{Base URL for making absolute URLs from relative links}

\item{page}{The URL of the Data Center page to scrape. Defaults to the
standard URL for the given year.}
}
\value{
A tibble with columns: year, survey, title, table_name, csv_url, dict_url
}
\description{
Minimal, intentionally "simple & slightly fragile" helpers that:
 - scrape the HTML results table on DataFiles.aspx (Complete Data Files)
 - extract the table_name plus CSV + Dictionary links
 - download CSVs (and optionally dictionaries)
}
\details{
Dependencies: rvest, xml2, dplyr, stringr, tibble, purrr, readr, cli (optional)
Index file URLs for a given year of IPEDS data
}
